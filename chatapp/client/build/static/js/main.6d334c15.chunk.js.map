{"version":3,"sources":["views/chat/Chat.jsx","views/join/Join.jsx","views/infoBar/InfoBar.jsx","views/input/Input.jsx","views/message/Message.jsx","views/messages/Messages.jsx","views/textContainer/TextContainer.jsx","App.js","serviceWorker.js","index.js","icons/onlineIcon.png","icons/closeIcon.png"],"names":["socket","Join","useState","name","setName","room","setRoom","className","type","placeholder","onChange","e","target","value","onClick","event","preventDefault","to","InfoBar","src","onlineIcon","alt","href","closeIcon","Input","message","setMessage","sendMessage","action","onKeyPress","key","Message","user","text","isSentByCurrentUser","trimName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","console","log","map","i","TextContainer","users","role","aria-label","Chat","location","setUsers","setMessages","ENDPOINT","useEffect","queryString","parse","search","io","emit","off","on","App","path","exact","component","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","module","exports"],"mappings":"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","file":"static/js/main.6d334c15.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport io from \"socket.io-client\";\nimport \"./Chat.css\";\nimport InfoBar from \"../infoBar/InfoBar\";\nimport Input from \"../input/Input\";\nimport Messages from \"../messages/Messages\";\nimport TextContainer from \"../textContainer/TextContainer\";\nlet socket;\n\n// location is props passed to our Chat component from react-router-dom\nconst Chat = ({ location }) => {\n  const [name, setName] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const [users, setUsers] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const ENDPOINT = \"https://react-node-realtime-chat-app.herokuapp.com/\";\n\n  useEffect(() => {\n    const { name, room } = queryString.parse(location.search);\n\n    socket = io(ENDPOINT);\n\n    setName(name);\n    setRoom(room);\n\n    socket.emit(\"join\", { name, room });\n\n    return () => {\n      socket.emit(\"disconnect\");\n      socket.off();\n    };\n  }, [ENDPOINT, location.search]);\n\n  useEffect(() => {\n    socket.on(\"message\", (message) => {\n      setMessages([...messages, message]);\n    });\n\n    socket.on(\"roomData\", ({ users }) => {\n      setUsers(users);\n    });\n  }, [messages]);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    if (message) {\n      socket.emit(\"sendMessage\", message, () => setMessage(\"\"));\n    }\n  };\n\n  return (\n    <div className=\"outerContainer\">\n      <div className=\"container\">\n        <InfoBar room={room} />\n        <Messages messages={messages} name={name} />\n        <Input\n          message={message}\n          setMessage={setMessage}\n          sendMessage={sendMessage}\n        />\n      </div>\n      <TextContainer users={users} />\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Join.css\";\n\nconst Join = () => {\n  const [name, setName] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n\n  return (\n    <div className=\"joinOuterContainer\">\n      <div className=\"joinInnerContainer\">\n        <h1 className=\"heading\">Join</h1>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Name\"\n            className=\"joinInput\"\n            onChange={(e) => {\n              setName(e.target.value);\n            }}\n          />\n        </div>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Room\"\n            className=\"joinInput mt-20\"\n            onChange={(e) => {\n              setRoom(e.target.value);\n            }}\n          />\n        </div>\n        <Link\n          onClick={(event) => (!name || !room ? event.preventDefault() : null)}\n          to={`/chat?name=${name}&room=${room}`}\n        >\n          <button className=\"button mt-20\" type=\"submit\">\n            Sign In\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Join;\n","import React from \"react\";\nimport \"./InfoBar.css\";\nimport closeIcon from \"../../icons/closeIcon.png\";\nimport onlineIcon from \"../../icons/onlineIcon.png\";\n\nconst InfoBar = ({ room }) => {\n  return (\n    <div className=\"infoBar\">\n      <div className=\"leftInnerContainer\">\n        <img className=\"onlineIcon\" src={onlineIcon} alt=\"online image\" />\n        <h3>{room}</h3>\n      </div>\n      <div className=\"rightInnerContainer\">\n        <a href=\"/\">\n          <img src={closeIcon} alt=\"close image\" />\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default InfoBar;\n","import React from \"react\";\nimport \"./Input.css\";\n\nconst Input = ({ message, setMessage, sendMessage }) => {\n  return (\n    <form className=\"form\" action=\"\">\n      <input\n        type=\"text\"\n        className=\"input\"\n        placeholder=\"Message...\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        onKeyPress={(e) => (e.key === \"Enter\" ? sendMessage(e) : null)}\n      />\n      <button className=\"sendButton\" onClick={(e) => sendMessage(e)}>\n        Send\n      </button>\n    </form>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\nimport \"./Message.css\";\nimport ReactEmoji from \"react-emoji\";\n\nconst Message = ({ message: { user, text }, name }) => {\n  let isSentByCurrentUser = false;\n\n  const trimName = name.trim().toLowerCase();\n\n  if (user === trimName) {\n    isSentByCurrentUser = true;\n  }\n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <p className=\"sentText pr-10\">{trimName}</p>\n      <div className=\"messageBox backgroundBlue\">\n        <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyStart\">\n      <div className=\"messageBox backgroundLight\">\n        <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n        <p className=\"sentText pl-10\">{user}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\nimport \"./Messages.css\";\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport Message from \"../message/Message\";\n\nconst Messages = ({ messages, name }) => {\n  console.log(messages);\n  return (\n    <ScrollToBottom className=\"messages\">\n      {messages.map((message, i) => {\n        return (\n          <div key={i}>\n            <Message message={message} name={name} />\n          </div>\n        );\n      })}\n    </ScrollToBottom>\n  );\n};\n\nexport default Messages;\n","import React from \"react\";\n\nimport onlineIcon from \"../../icons/onlineIcon.png\";\n\nimport \"./TextContainer.css\";\n\nconst TextContainer = ({ users }) => (\n  <div className=\"textContainer\">\n    <div>\n      <h1>\n        Realtime Chat Application{\" \"}\n        <span role=\"img\" aria-label=\"emoji\">\n          💬\n        </span>\n      </h1>\n      <h2>\n        Created with React, Express, Node and Socket.IO{\" \"}\n        <span role=\"img\" aria-label=\"emoji\">\n          ❤️\n        </span>\n      </h2>\n      <h2>\n        Try it out right now!{\" \"}\n        <span role=\"img\" aria-label=\"emoji\">\n          ⬅️\n        </span>\n      </h2>\n    </div>\n    {users ? (\n      <div>\n        <h1>People currently chatting:</h1>\n        <div className=\"activeContainer\">\n          <h2>\n            {users.map(({ name }) => (\n              <div key={name} className=\"activeItem\">\n                {name}\n                <img alt=\"Online Icon\" src={onlineIcon} />\n              </div>\n            ))}\n          </h2>\n        </div>\n      </div>\n    ) : null}\n  </div>\n);\n\nexport default TextContainer;\n","import React from \"react\";\nimport \"./App.css\";\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport Join from \"./views/join/Join\";\nimport Chat from \"./views/chat/Chat\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"/\" exact component={Join} />\n        <Route path=\"/chat\" exact component={Chat} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}